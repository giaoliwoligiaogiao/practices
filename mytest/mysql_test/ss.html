<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>

<body>

</body>
<script type="text/javascript">
	  var arr=[1,2,1,1,3,5];
//	  for(var i=0;i<5000;i++){
//	  	arr.push(Math.round(Math.random()*5000));
//	  }
	  console.time();
//	    var arr2=[];
//	    for(var i = 0;i<arr.length;i++){
//		   if(arr2.indexOf(arr[i])==-1){
//			  arr2.push(arr[i])
//		   }
//	        }
//Array.prototype.unique2 = function(){
// this.sort(); //先排序
// var res = [this[0]];
// for(var i = 1; i < this.length; i++){
//if(this[i] !== res[res.length - 1]){
// res.push(this[i]);
//}
// }
// return res;
//}


Array.prototype.unique3 = function(){
   var res = [];
	var json = {};
	for(var i = 0; i < this.length; i++){
		if(!json[this[i]]){
		   res.push(this[i]);
		   json[this[i]] = 1;
		}
	}
   return res;
   }


	    
	    console.timeEnd();
	      console.log(arr.unique3());
//	    console.log(arr2);
// console.log(arr.unique2());
</script>
</html>
